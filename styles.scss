@use "sass:math";

body 
{
    margin: 0;
    overflow: hidden;

    background-color: lightblue;
}

@for $b from 1 through 3
{
    $base-color: rgb(244, 82, 53);
    @if $b == 2
    {
        $base-color: rgb(53, 139, 244);
    } @else if $b == 3
    {
        $base-color: rgb(90, 225, 110);
    }

    .elevator-button#{$b}
    {
        width: 5em;
        height: 5em;

        transform: rotateX(40deg);
        z-index: 2;

        position: absolute;

        bottom: 5em;
        left: #{$b * 2 * 5 - 5}em;

        border: none;
        background-color: transparent;
        cursor: pointer;

        @for $i from 1 through 5
        {
            .elevator-button-layer#{$i}
            {
                width: 5em;
                height: 5em;

                background-color: lighten($base-color, $i * 1.75%);

                position: absolute;

                transition: 0.2s;
                
                :hover > &
                {
                    background-color: lighten($base-color, $i * 2.5%);
                }

                @if $i != 1
                {
                    transform: translateY(-#{math.div($i, 2) - 0.5}em);
        
                    :active > &
                    {
                        transform: translateY(-#{math.div($i - 1, 4)}em);
                    }
                } @else 
                {
                    outline: 0.75em solid white;
                    box-shadow: 0 0 20px 0 rgb(154, 151, 151);
                }

                border-radius: 2.5em;
            }
        }
    }

    .tooltip#{$b}
    {
        position: absolute;
        bottom: 6.5em;
        left: #{0.5 + ($b - 1) * 8.35}em;

        z-index: 2;

        width: 10em;
        height: 10em;

        opacity: 0;
        transition: 0.2s;

        :hover > & 
        {
            opacity: 1;
        }

        .info-bubble 
        {
            height: 8em;
            width: 12.5em;

            animation: info-bubble 0.5s infinite linear;
        }

        p 
        {
            position: absolute;
            top: -0.75em;
            left: 0em;

            font-size: 1.6em;

            height: 3.5em;
            width: 7.5em;

            display: flex;
            align-items: center;
            justify-content: center;

            font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            font-weight: 700;
            font-style: italic;
        }
    }
}

@keyframes info-bubble 
{
    0%
    {
        background: url("svg/info1.svg");
        background-size: contain;
        background-repeat: no-repeat;
    }

    33%
    {
        background: url("svg/info2.svg");
        background-size: contain;
        background-repeat: no-repeat;
    }

    66%
    {
        background: url("svg/info3.svg");
        background-size: contain;
        background-repeat: no-repeat;
    }

    100%
    {
        background: url("svg/info1.svg");
        background-size: contain;
        background-repeat: no-repeat;
    }
}

.panel 
{
    width: 100vw;
    height: 12em;

    background-color: rgb(205, 202, 202);

    position: absolute;
    bottom: 0;

    transform: rotateX(40deg) translateY(2em);
    z-index: 1;

    outline: 0.75em solid white;
}